<!DOCTYPE html>
<html xmlns="http://www.thymeleaf.org"
xmlns: sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<body>
	<div th:fragment="menu">
		<div>
			<form th:action="@{/logout}" method="post" th:hidden="true" name="logoutForm">
				<input type="submit"/>
			</form>
		</div>
		
		<nav class="navbar navbar-expand-md bg-dark navbar-dark">
	    <a class="navbar-brand" th:href="@{/}">
			<img th:src="@{/images/main.png}" style="width: 70px; height: 70px;"/>
		</a>
	  	<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
	    	<span class="navbar-toggler-icon"></span>
	  	</button>
	
	  	<div class="collapse navbar-collapse" id="collapsibleNavbar">
	    	<ul class="navbar-nav">
	      		  <li class="nav-item" sec:authorize="hasAuthority('Admin')">
	        		<a class="nav-link" th:href="@{/users}">Users</a>
	      		  </li>
	      		  
	      		  <th:block sec:authorize="hasAnyAuthority('Admin', 'Editor')">
			      <li class="nav-item">
			        <a class="nav-link" th:href="@{/categories}">Categories</a>
			      </li>
			      <li class="nav-item">
			        <a class="nav-link" th:href="@{/brands}">Brands</a>
			      </li>
			      </th:block>
			      
			      <th:block sec:authorize="hasAnyAuthority('Admin', 'Salesperson', 'Editor', 'Shipper')">
			      <li class="nav-item">
			        <a class="nav-link" th:href="@{/products}">Products</a>
			      </li>
			      </th:block>
			      
			      <th:block sec:authorize="hasAnyAuthority('Admin', 'Salesperson')">
			      <li class="nav-item">
			        <a class="nav-link" th:href="@{/customers}">Customers</a>
			      </li>
			      <li class="nav-item">
			        <a class="nav-link" th:href="@{/shipping}">Shipping</a>
			      </li>
			      </th:block>
			      
			      <th:block sec:authorize="hasAnyAuthority('Admin', 'Salesperson', 'Shipper')">
			      <li class="nav-item">
			        <a class="nav-link" th:href="@{/orders}">Orders</a>
			      </li>
			      </th:block>
			      
			      <th:block sec:authorize="hasAnyAuthority('Admin', 'Salesperson')">
			      <li class="nav-item">
			        <a class="nav-link" th:href="@{/report}">Sales Report</a>
			      </li>
			      </th:block>
			      
			      <th:block sec:authorize="hasAnyAuthority('Admin', 'Editor')">
			      <li class="nav-item">
			        <a class="nav-link" th:href="@{/articles}">Articles</a>
			      </li>
			      <li class="nav-item">
			        <a class="nav-link" th:href="@{/menus}">Menus</a>
			      </li>
			      </th:block>
			      
			      <li class="nav-item" sec:authorize="hasAuthority('Admin')">
			        <a class="nav-link" th:href="@{/settings}">Settings</a>
			      </li>
			      
			      <li class="nav-item">
			        <a class="nav-link" ><span class="fa-solid fa-user"></span></a>
			      </li>
	<!--  		      <li class="nav-item">
			        <a class="nav-link">
						<div class="dropdown">
						  <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						    <span sec:authentication="principal.fullname"></span>
						  </button>
						  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
						    <a class="dropdown-item" th:href="@{/logout}">Logout</a>
						  </div>
						</div>
			        </a>
			      </li>-->
			      <li class="nav-item dropdown">
					  <a class="nav-link dropdown-toggle" data-toggle="dropdown" sec:authentication="principal.fullname"></a>
					  <div class="dropdown-menu">
						  <a class="dropdown-item" id="logoutLink" href="">Logout</a>
					  </div>
			      </li>
		   	</ul>
	  	</div>
		</nav>
	</div>
</body>	
</html>